<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="theme-color" content="#000000"/><link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/><script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js" integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og==" crossorigin=""></script><meta name="description" content="Web site created using create-react-app"/><link rel="apple-touch-icon" href="/logo192.png"/><link rel="manifest" href="/manifest.json"/><style>body{margin:0;padding:0}#map,body,html{width:100%;height:100vh}</style><title>Wisley Tour</title><script defer="defer" src="/static/js/main.77d2c747.js"></script><link href="/static/css/main.bca2956b.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"></div><div id="map"></div><script>const poisUrl="/pois";var pois;const walksUrl="/walks";var walks,marker,map=L.map("map",{zoomControl:!1}).setView([51.31491854089235,-.475020752189743],16);async function loadPois(){const a=await fetch("/pois");var o=await a.json(),n=L.icon({iconUrl:"/images/rhsLogo.png",iconSize:[30,38]});o.map((function(a){L.marker(a.location,{icon:n}).bindPopup(a.description).addTo(map)}))}async function loadWalks(){const a=await fetch("/walks");var o=await a.json();winterWalk=o[0];var n=L.polyline(winterWalk.route,{color:"#23AD23",weight:4,smoothFactor:10}).addTo(map);map.fitBounds(n.getBounds())}function onLocationFound(a){if(a.latlng[0]>51.307049&&a.latlng[0]<51.323335&&a.latlng[1]>-.48179&&a.latlng[1]<-.466944)if(marker)marker.setLatLng(a.latlng);else{marker=L.marker(a.latlng).addTo(map);var o=map.getZoom();map.setView(a.latlng,o)}else L.popup().setLatLng([51.31491854089235,-.475020752189743]).setContent("<p><b>Notice</b><br />You are currently outside the Gardens. Reload the Garden Tour App once you are at the Entrance</p>").openOn(map)}function onLocationError(a){alert(a.message)}function reCentreMap(){if(marker){var a=marker.getLatLng(),o=map.getZoom();map.setView(a,o)}}L.tileLayer("/{z}/{x}/{y}.png",{minZoom:14,maxZoom:20,tms:!1,attribution:"Generated by TilesXYZ"}).addTo(map),loadPois(),loadWalks(),map.locate({watch:!0,enableHighAccuracy:!0}),map.on("locationfound",onLocationFound),map.on("locationerror",onLocationError),map.on("popupclose",reCentreMap)</script></body></html>